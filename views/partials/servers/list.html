<div ng-controller="serverListController" class="container">

	<!-- Header {{{ -->
	<div class="block-header">
		<h2>Servers</h2>
		
		<ul class="actions">
			<li>
				<a href="">
					<i class="md md-trending-up"></i>
				</a>
			</li>
			<li>
				<a href="">
					<i class="md md-done-all"></i>
				</a>
			</li>
			<li class="dropdown">
				<a href="" data-toggle="dropdown">
					<i class="md md-more-vert"></i>
				</a>
				
				<ul class="dropdown-menu dropdown-menu-right">
					<li>
						<a href="">Refresh</a>
					</li>
					<li>
						<a href="">Manage Widgets</a>
					</li>
					<li>
						<a href="">Widgets Settings</a>
					</li>
				</ul>
			</li>
		</ul>
		
	</div>
	<!-- }}} -->

	<div class="card">
		<div class="card-body">
			<div ng-if="loading" class="alert alert-loading">
				<i class="fa fa-spinner fa-spin"></i>
				Loading server list...
			</div>
			<div ng-if="!loading">
				<div class="table-responsive">
					<table ng-if="servers.length" class="table table-hover">
						<thead>
							<tr>
								<th>Name</th>
								<th width="15ex" class="text-center">Services</th>
								<th width="15ex" class="text-center">Status</th>
								<th width="10ex">&nbsp;</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="server in servers | orderBy:'name' track by server._id">
								<td><a href="#/servers/{{server._id}}">{{server.name || server.address || 'Untitled'}}</a></td>
								<td class="text-center"><a href="#/services?server={{server._id}}" class="badge">
									<i ng-if="server.serviceCount == 'loading'" class="fa fa-spinner fa-spin"></i>
									<span ng-if="server.serviceCount >= 0">{{server.serviceCount | number}}</span>
								</a></td>
								<td ng-switch="server.status" class="text-center"><a href="#/servers/{{server._id}}">
									<span ng-switch-when="ok" class="label label-table label-success">Ok</span>
									<span ng-switch-when="warning" class="label label-table label-warning">Warning</span>
									<span ng-switch-when="danger" class="label label-table label-danger">Danger</span>
									<span ng-switch-when="danger" class="label label-table label-error">Danger</span>
									<span ng-switch-default class="label label-table label-info">Unknown</span>
								</a></td>
								<td class="text-center">
									<a confirm="deleteServer(server)" class="btn btn-xs btn-danger"><i class="fa fa-trash"></i></a>
								</td>
							</tr>
						</tbody>
					</table>
					<div ng-if="!servers.length" class="alert alert-info">No servers found</div>
				</div>
			</div>
		</div>
	</div>
</div>
